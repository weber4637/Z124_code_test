//**********************************************************************
//**********************************************************************
//**                                                                  **
//**        (C)Copyright 1985-2015, American Megatrends, Inc.         **
//**                                                                  **
//**                       All Rights Reserved.                       **
//**                                                                  **
//**             5555 Oakbrook Pkwy, Norcross, GA 30093               **
//**                                                                  **
//**                       Phone: (770)-246-8600                      **
//**                                                                  **
//**********************************************************************
//**********************************************************************
/** @file
  AmiNvramPeiPlatformHooks.h is generated by AMISDL from AmiNvramPeiPlatformHooksTemplate.h
  This header file defines NVRAM PEI platform hooks.
  AMISDL replaces @elink commands below with the content of the corresponding eLink.
  
  Do not include this header in your source file. It is a private header of the NvramPei module.
**/

/* ************************************************************************************* */
// DXE variable API hooks
/* ************************************************************************************* */




HOOK_GET_VARIABLE *GetVariableHookList[] = {

    NULL
};
HOOK_SET_VARIABLE *SetVariableHookList[] = {

    NULL
};
HOOK_GET_NEXT_VARIABLE_NAME *GetNextVarNameHookList[] = {

    NULL
};

/* ************************************************************************************* */
// Variables to be preserved.
/* ************************************************************************************* */
//These variables are preserved across firmware updates.
#define NVRAM_PERSISTENT_VARIABLES_LIST  {L"KEK",EFI_GLOBAL_VARIABLE}, {L"PK",EFI_GLOBAL_VARIABLE}, {L"*",EFI_IMAGE_SECURITY_DATABASE_GUID}, {L"SecureBootSetup",{0x7B59104A, 0xC00D, 0x4158, {0x87, 0xFF, 0xF0, 0x4D, 0x63, 0x96, 0xA9, 0x15} } }, {L"*",{ 0x77FA9ABD, 0x0359, 0x4D32, {0xBD, 0x60, 0x28, 0xF4, 0xE7, 0x8F, 0x78, 0x4B} } }, {L"ConIn",EFI_GLOBAL_VARIABLE}, {L"ConOut",EFI_GLOBAL_VARIABLE}, {L"UefiDevOrder",{0xc923ca9, 0xdf73, 0x4ac8, 0xb6, 0xd2, 0x98, 0xdd, 0xc3, 0xd, 0x99, 0xfc}}, {L"FboLegacyDevOrder",{0xc923ca9, 0xdf73, 0x4ac8, 0xb6, 0xd2, 0x98, 0xdd, 0xc3, 0xd, 0x99, 0xfc}}, {L"OriFboLegacyDevOrder",{0xc923ca9, 0xdf73, 0x4ac8, 0xb6, 0xd2, 0x98, 0xdd, 0xc3, 0xd, 0x99, 0xfc}},
//When NVRAM runs out of space, NVRAM driver performs NVRAM cleanup procedure. 
//It deletes all the variables except those listed under NvramPreservedVariables and NvramPersistentVariables eLinks.
#define NVRAM_PRESERVE_VARIABLES_LIST  

/* ************************************************************************************* */
// NVRAM Update Hooks
/* ************************************************************************************* */
typedef BOOLEAN (NVRAM_STORE_UPDATE_FILTER)(
    CHAR16* VarName, EFI_GUID* VarGuid
);
typedef EFI_STATUS (NVRAM_COPY_VARIABLE)(
    CHAR16* VarName, EFI_GUID* VarGuid
);
typedef EFI_STATUS (NVRAM_STORE_UPDATE_HANDLER)(
	EFI_GET_VARIABLE GetVariable, NVRAM_COPY_VARIABLE CopyVariable
);
BOOLEAN KeepVarsInPersistentList(CHAR16* VarName, EFI_GUID* VarGuid);
BOOLEAN KeepVarsInPreservedList(CHAR16* VarName, EFI_GUID* VarGuid);
BOOLEAN KeepVarsWithDefaults(CHAR16* VarName, EFI_GUID* VarGuid);
BOOLEAN KeepVarsInPersistentList(CHAR16* VarName, EFI_GUID* VarGuid);
EFI_STATUS CopyBootOptions(EFI_GET_VARIABLE GetVariable, NVRAM_COPY_VARIABLE CopyVariable);
EFI_STATUS CopyBootOptions(EFI_GET_VARIABLE GetVariable, NVRAM_COPY_VARIABLE CopyVariable);

NVRAM_STORE_UPDATE_FILTER *NvramCleanupFilterFunctions[] = {
    KeepVarsInPersistentList,
    KeepVarsInPreservedList,
    KeepVarsWithDefaults,
    NULL
};
NVRAM_STORE_UPDATE_FILTER *NvramUpdateFilterFunctions[] = {
    KeepVarsInPersistentList,
    NULL
};
NVRAM_STORE_UPDATE_HANDLER *NvramCleanupHandlerFunctions[] = {
    CopyBootOptions,
    NULL
};
NVRAM_STORE_UPDATE_HANDLER *NvramUpdateHandlerFunctions[] = {
    CopyBootOptions,
    NULL
};

//**********************************************************************
//**********************************************************************
//**                                                                  **
//**        (C)Copyright 1985-2015, American Megatrends, Inc.         **
//**                                                                  **
//**                       All Rights Reserved.                       **
//**                                                                  **
//**             5555 Oakbrook Pkwy, Norcross, GA 30093               **
//**                                                                  **
//**                       Phone: (770)-246-8600                      **
//**                                                                  **
//**********************************************************************
//**********************************************************************
